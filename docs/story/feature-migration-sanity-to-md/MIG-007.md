# MIG-007 — QA, tests & cutover

Branch: feature/migration/sanity-to-md/mig-007
Priority: High
Estimate: 6–12 hours
Assignee: @qa (suggested) — QA / release owner

## Goal
Update unit/e2e tests, perform regression, PO verification, then merge epic branch to `main` and cutover.

## Acceptance criteria
- Playwright e2e suite passes against epic branch build
- PO verifies migrated pages in staging
- Epic PR merged to `main` and production deploy succeeds

## Developer tasks (developer-ready, assignable)
1. Tests (2–4h)
   - Update unit tests that reference Sanity shapes to use `content/` fixtures.
   - Add/modify Playwright tests: `tests/e2e/blog.spec.ts`, `tests/e2e/pages.spec.ts` to validate migrated pages.
2. Regression & visual checks (2–3h)
   - Run visual checks for representative pages and capture screenshots to compare with baseline.
3. Backup & rollback readiness (1h)
   - Create a pre-merge git tag `pre-migration-<date>` and save a Sanity export snapshot in `backup/sanity-export-<date>.ndjson` (do not commit large files — store locally and note location).
   - Add rollback instructions to PR template.
4. Finalize cutover (1–2h)
   - Merge epic → `main` after sign-off and monitor production deploy for 24–48 hours.

Dev acceptance checklist
- [ ] All tests updated and passing in CI
- [ ] Visual spot-checks approved by PO
- [ ] Backup snapshot and rollback instructions documented
- [ ] Epic PR merged and production monitored

