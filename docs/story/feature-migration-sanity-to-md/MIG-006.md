# MIG-006 — Asset migration, images, redirects & SEO

Branch: feature/migration/sanity-to-md/mig-006
Priority: Medium
Estimate: 6–12 hours
Assignee: @frontend-dev (suggested) — assets & SEO owner

## Goal
Migrate assets to `public/uploads/`, update `next/image` usage and port redirects & SEO fields into frontmatter.

## Acceptance criteria
- OG/cover images render correctly via `next/image`
- Redirects are present in `next.config.js` or `data/redirects.json`
- Frontmatter includes `seo.title`, `seo.description`, `coverImage` for migrated files

## Developer tasks (developer-ready, assignable)
1. Asset downloader (2–3h)
   - Implement `scripts/download-assets.js` that reads `studio/masterthepixel/production-export-*/assets.json` and downloads assets to `public/uploads/<type>/<slug>/`.
   - Add a mapping file `data/asset-map.json` to track original -> local path.
2. Frontmatter image updates (1–2h)
   - During conversion, ensure `coverImage` frontmatter uses `/uploads/...` path. Add fallback to original CDN when download fails.
3. Redirects (1h)
   - Migrate Sanity redirects by generating `next.config.js` `redirects()` items or a `data/redirects.json` and a small loader used in build.
4. CI frontmatter parity check (1h)
   - Add a script `scripts/validate-frontmatter.js` that ensures each MDX has `seo.title`, `seo.description`, and `coverImage` (fail CI if missing for non-draft posts).

Dev acceptance checklist
- [ ] Assets downloaded and paths rewritten
- [ ] Redirects available in staging
- [ ] Frontmatter parity check added to CI and passing for sample set
- [ ] PR merged into epic branch


## Done checklist
- [ ] Assets downloaded and referenced locally
- [ ] Redirects live in staging
- [ ] Frontmatter parity check added to CI
- [ ] PR merged into epic branch
