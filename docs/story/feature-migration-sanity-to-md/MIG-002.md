# MIG-002 — Pilot: Convert 3 Page Builder pages to MDX

Branch: feature/migration/sanity-to-md/mig-002
Priority: High
Estimate: 12–20 hours
Assignee: @mastethepixel (suggested) — frontend / PO collaborator

## Goal
Migrate three representative Page Builder pages (hero, feature grid, testimonial) into MDX and implement MDX wrappers for reused block components so the front-end UI remains unchanged.

## Acceptance criteria
- 3 pilot pages render identically when served from MDX
- No Sanity runtime calls for pilot pages

## Developer tasks (developer-ready, assignable)
1. PO selection + inventory (0.5h)
   - PO: list 3 pages and provide sample screenshots / expected differences.
2. MDX wrapper components (2–3h)
   - Implement `src/components/mdx/Hero.tsx`, `FeatureGrid.tsx`, `Testimonial.tsx` that internally reuse `src/components/page-builder/blocks/*` UI.
   - Export these from `src/components/mdx/index.ts` for MDX usage.
3. Page conversion (2–4h)
   - Convert each chosen `pageBuilder[]` document into `content/pages/<slug>.mdx` with frontmatter and MDX sections using wrappers.
   - Keep original `pageBuilder` JSON as `.backup.json` next to MDX for traceability.
4. Router & server integration (1–2h)
   - Update `src/lib/content.ts` to include `getPageBySlug` for `content/pages`.
   - Update the page route to prefer file content for pilot slugs (feature-flagged or dev-only routing).
5. Tests & visual QA (1–2h)
   - Add Playwright visual checks for the 3 pilot pages (`tests/e2e/pilot-pages.spec.ts`).
   - Add snapshot tests (Jest) for the MDX output.

Dev acceptance checklist
- [ ] Pilot MDX pages render visually identical (PO sign-off)
- [ ] No Sanity runtime used for pilot pages
- [ ] Backups (`.backup.json`) included for each converted page
- [ ] PR merged into epic branch


## Done checklist
- [ ] Pilot MDX pages render and match production visuals
- [ ] Unit and visual tests added
- [ ] PR merged into epic branch
